<!DOCTYPE html><html lang="en" data-theme="lofi"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/jpeg" href="/tech/profile.jpg"><meta name="generator" content="Astro v4.4.15"><!-- Primary Meta Tags --><title>Jinja Components? | Kieran Wood</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta name="title" content="Jinja Components?"><meta name="description" content="Using built in aspects of jinja to make code de-duplication easier"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://kieranwood.ca/tech/blog/jinja-components/"><meta property="og:title" content="Jinja Components?"><meta property="og:description" content="Using built in aspects of jinja to make code de-duplication easier"><meta property="og:image" content="https://kieranwood.ca/tech/blog/jinja-components/hero.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://kieranwood.ca/tech/blog/jinja-components/"><meta property="twitter:title" content="Jinja Components?"><meta property="twitter:description" content="Using built in aspects of jinja to make code de-duplication easier"><meta property="twitter:image" content="https://kieranwood.ca/tech/blog/jinja-components/hero.png"><link rel="stylesheet" href="/tech/_astro/_page_.D_l8DYJv.css" />
<style>.time-line-container>div:last-child .education__time>.education__line{display:none}details{background:#f0f0f0;padding:1rem;border-radius:.7rem;margin:.5rem auto;width:100%}summary{cursor:pointer}#TOC-list{list-style:none}#TOC-list li{margin-top:.15rem}.danger-banner{display:flex;flex-direction:row;background:#f44336;border-radius:.25rem;padding:1.1rem;color:#fff!important;flex-wrap:wrap}.danger-banner strong,.danger-banner a{color:#fff!important}.danger-banner:before{content:"!üõë Danger üõë!";flex-basis:100%;margin-bottom:.5rem;padding:.6rem;border-radius:.25rem;text-align:center;background:red;text-transform:uppercase}.warning-banner{display:flex;flex-direction:row;background:#fcc51e;border-radius:.25rem;padding:1.1rem;color:#141414!important;flex-wrap:wrap}.warning-banner strong,.warning-banner a{color:#141414!important}.warning-banner:before{content:"üü° Warning üü°";flex-basis:100%;margin-bottom:.5rem;padding:.6rem;border-radius:.25rem;text-align:center;background:#f6cb49;text-transform:uppercase;text-shadow:1px 1px 1px rgb(93,93,93)}.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module" src="/tech/_astro/hoisted.CHePpst8.js"></script><style>[data-astro-transition-scope="astro-vz7ejtmd-1"] { view-transition-name: __2ftech_2fblog_2fjinja-components_2fhero_2epng; }</style><style>[data-astro-transition-scope="astro-frvnq75b-2"] { view-transition-name: Jinja_20Components_3f; }</style></head> <body> <div class="bg-base-100 drawer lg:drawer-open"> <input id="my-drawer" type="checkbox" class="drawer-toggle"> <div class="drawer-content bg-base-100"> <div class="sticky lg:hidden top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-all duration-100 bg-base-100 text-base-content shadow-sm"> <div class="navbar"> <div class="navbar-start"> <label for="my-drawer" class="btn btn-square btn-ghost"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </label> </div> <div class="navbar-center"> <a class="btn btn-ghost normal-case text-xl" href="/">Kieran Wood ‚ö°Ô∏è</a> </div> <div class="navbar-end"></div> </div> </div> <div class="md:flex md:justify-center"> <main class="p-6 pt-10 lg:max-w-[900px] max-w-[100vw]">  <main class="md:flex md:justify-center"> <article class="prose prose-lg max-w-[750px] prose-img:mx-auto"> <img src="/tech/blog/jinja-components/hero.png" alt="Jinja Components?" class="w-full mb-6" style="border-radius:.5em" data-astro-transition-scope="astro-vz7ejtmd-1" width="750" height="422" loading="lazy" decoding="async"> <h1 class="title my-2 text-4xl font-bold" data-astro-transition-scope="astro-frvnq75b-2">Jinja Components?</h1> <time>Feb 24, 2025</time> <br>  <a href="/blog/tag/web" class="badge badge-outline ml-2 no-underline"> web </a><a href="/blog/tag/html" class="badge badge-outline ml-2 no-underline"> html </a><a href="/blog/tag/frontend" class="badge badge-outline ml-2 no-underline"> frontend </a><a href="/blog/tag/ui-ux" class="badge badge-outline ml-2 no-underline"> ui-ux </a><a href="/blog/tag/design" class="badge badge-outline ml-2 no-underline"> design </a><a href="/blog/tag/flask" class="badge badge-outline ml-2 no-underline"> flask </a><a href="/blog/tag/jinja" class="badge badge-outline ml-2 no-underline"> jinja </a><a href="/blog/tag/python" class="badge badge-outline ml-2 no-underline"> python </a>   <div class="divider my-2"></div> <div> <h2>Table of contents</h2> <ul id="TOC-list"> <li> <a href="#it-begins" class="no-underline"> It begins </a> </li><li> <a href="#setting-up-jinja" class="no-underline"> Setting up Jinja </a> </li><li> <a href="#the-flask-version" class="no-underline"> The Flask Version </a> </li> </ul> </div>
  <hr><p>The component architecture is incredibly popular in modern webdev. When I first started developing the popular way of doing things was to think in pages. Essentially in your application you would have a templating language, and you would build up each page as a separate file, and render it with your templating language:</p>
<p><img src="/tech/blog/jinja-components/page-architecture.png" alt=""></p>
<p>This was popular, but it had a few issues, the biggest of which was constantly copy-pasting code. As time went on other frameworks took a different approach, in particular one popular approach was to have pages, but then build up those pages using different ‚Äúpieces‚Äù we called components. So for example we can put our navbar into a component, and re-use it on every page, or standardize how user profiles appear, etc.:</p>
<p><img src="/tech/blog/jinja-components/component-architecture.png" alt=""></p>
<p>Many years ago I started using flask for web development. It was the framework that started off my journey, and jinja by extension, was my first foray into templating languages. Having used many of them since (<a href="https://handlebarsjs.com/">Handlebars</a>, <a href="https://pugjs.org/api/getting-started.html">pug</a>, <a href="https://twig.symfony.com/">twig</a>, <a href="https://gohugo.io/templates/">hugo</a>, <a href="https://www.typescriptlang.org/docs/handbook/jsx.html">jsx</a>, etc.), I still find myself reaching for Jinja, and jinja-like (i.e. <a href="https://mozilla.github.io/nunjucks/">nunjunks</a>, <a href="https://docs.gofiber.io/template/django/">fiber-django</a> etc.) systems. One consistent complaint I used to get when I suggested people to try out flask (and by extension Jinja), was that ‚Äúyou can‚Äôt use components‚Äù. People who are coming from the React/JSX framework world are very attached to components, and are upset when they can‚Äôt use them. But you can use components in Jinja, it‚Äôs actually really easy to do!</p>
<p>So for this article I wanted to show off a simple example of what I would recommend as an easy to get started way of using Jinja with components. Then at the end I will also include an example of how to do this with flask, so you can expand this into all sorts of simple web apps! For this demo we‚Äôre going to create a simple page that lists a bunch of randomly generated people:</p>
<p><img src="/tech/blog/jinja-components/screenshot.png" alt=""></p>
<p>To do this we will make the card that each person‚Äôs information is on into a component, and then re-use that component for each of the people.</p>
<h2 id="it-begins">It begins</h2>
<p>So to get started, I will give you an idea of what the project layout looks like before we fill in the gaps:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span>üìÇ/</span></span>
<span class="line"><span>‚îú‚îÄ üìÇtemplates/</span></span>
<span class="line"><span>‚îÇ  ‚îú‚îÄ üìÇcomponents/</span></span>
<span class="line"><span>‚îÇ  ‚îÇ  ‚îú‚îÄ üìÑcard.jinja</span></span>
<span class="line"><span>‚îÇ  ‚îú‚îÄ üìÑbase.jinja</span></span>
<span class="line"><span>‚îÇ  ‚îú‚îÄ üìÑindex.jinja</span></span>
<span class="line"><span>‚îî‚îÄ üìÑmain.py</span></span></code></pre>
<p>The breakdown is:</p>
<ul>
<li><code>main.py</code>: is what will compile the jinja templates into the resulting html</li>
<li><code>/templates</code>: is the folder where all the templates will live
<ul>
<li><code>/templates/base.jinja</code>: The ‚Äúbase‚Äù template that subsequent pages will extend</li>
<li><code>/templates/index.jinja</code>: The ‚Äúhomepage‚Äù (extends <code>base.jinja</code>)</li>
<li><code>/templates/components</code>: Where the components used in the other pages will live
<ul>
<li><code>/templates/components/card.jinja</code>: A card component</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>On top of this there are 3 other tools used in this example:</p>
<ul>
<li><a href="https://picocss.com/">picocss</a>; The CSS framework that‚Äôs being used</li>
<li><a href="https://github.com/xfxf/faker-python">faker</a>; A library to generate fake data</li>
<li><a href="https://www.dicebear.com/">dicebear</a>; An api to generate random avatar images</li>
</ul>
<p>The full code can be found at <a href="https://github.com/Descent098/components-in-jinja">https://github.com/Descent098/components-in-jinja</a>. If you want to follow-along I recommend downloading the repo, and going from there.</p>
<h3 id="setting-up-jinja">Setting up Jinja</h3>
<p>First things first, we need to add our jinja code to <code>main.py</code> in order to render our templates. This is pretty simple, and will look something like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># 1. Imports</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> jinja2 </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Environment, select_autoescape, FileSystemLoader</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 2. Setup the environment</span></span>
<span class="line"><span style="color:#E1E4E8">env </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Environment(</span><span style="color:#FFAB70">autoescape</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">select_autoescape(), </span><span style="color:#FFAB70">loader</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">FileSystemLoader(</span><span style="color:#9ECBFF">"templates"</span><span style="color:#E1E4E8">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 3. Load a template</span></span>
<span class="line"><span style="color:#E1E4E8">example_template </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> env.get_template(</span><span style="color:#9ECBFF">"index.jinja"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 4. Render template with variables</span></span>
<span class="line"><span style="color:#E1E4E8">html </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> example_template.render()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">with</span><span style="color:#79B8FF"> open</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"index.html"</span><span style="color:#E1E4E8">,</span><span style="color:#9ECBFF">"w+"</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> output_file:</span></span>
<span class="line"><span style="color:#E1E4E8">    output_file.write(html)</span></span></code></pre>
<p>If you‚Äôre not to familiar with jinja, essentially <code>env</code> is our <a href="https://jinja.palletsprojects.com/en/stable/api/#jinja2.Environment">Environment</a>. It‚Äôs the system that has access to the files based on that <a href="https://jinja.palletsprojects.com/en/stable/api/#jinja2.FileSystemLoader">FileSystemLoader</a>. From there we need to actually load a template, so we call <code>env.get_template()</code> to load the contents of the file into a <a href="https://jinja.palletsprojects.com/en/stable/api/#jinja2.Template">Template</a> object. We then <strong>actually run</strong> jinja when we call <code>Template.render()</code>, which returns the resulting html as a string.</p>
<p><img src="/tech/blog/jinja-components/explaining-jinja.png" alt=""></p>
<p>So essentially this code will look for a file at <code>templates/index.jinja</code>, render it, and then write it to a file called <code>index.html</code>. Now, our basic approach with this demo is that <code>index.jinja</code> is going to inherit from <code>base.jinja</code>, then we will use <code>templates/components/card.jinja</code> inside <code>index.jinja</code> to show off each individual person:</p>
<p><img src="/tech/blog/jinja-components/demo-1.png" alt=""></p>
<p>Now here‚Äôs where the components comes in. It‚Äôs time to look at building an individual card for a person. The template will look like this:</p>
<p><code>templates/components/card.jinja</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">article</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">figure</span><span style="color:#E1E4E8">>&#x3C;</span><span style="color:#85E89D">img</span><span style="color:#B392F0"> src</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"{{image}}"</span><span style="color:#B392F0"> width</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"200px"</span><span style="color:#E1E4E8">/>&#x3C;/</span><span style="color:#85E89D">figure</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">aside</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">header</span><span style="color:#E1E4E8">>{{name}}&#x3C;/</span><span style="color:#85E89D">header</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">hr</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">footer</span><span style="color:#E1E4E8">>{{description}}&#x3C;/</span><span style="color:#85E89D">footer</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;/</span><span style="color:#85E89D">aside</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">article</span><span style="color:#E1E4E8">></span></span></code></pre>
<p>Pretty simple, then to use our component we just need to make sure we give it an image, name, and description variable. We can now take a look at our <code>index.jinja</code> file, and incorporate our new component:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">{% extends "base.jinja" %}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">{% block content %}</span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"grid"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  {% include "components/card.jinja" %}</span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">{% endblock content %}</span></span></code></pre>
<p>Then we just pass in our variables in our render:</p>
<p><code>main.py</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># 4. Render template with variables</span></span>
<span class="line"><span style="color:#E1E4E8">name </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "kieran"</span></span>
<span class="line"><span style="color:#E1E4E8">image_url </span><span style="color:#F97583">=</span><span style="color:#F97583"> f</span><span style="color:#9ECBFF">"https://api.dicebear.com/9.x/pixel-art/svg?seed=</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">name</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#E1E4E8">html </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> example_template.render(</span><span style="color:#FFAB70">name</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">name, </span><span style="color:#FFAB70">image</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">image_url, </span><span style="color:#FFAB70">description</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"lorem ipsum"</span><span style="color:#E1E4E8">)</span></span></code></pre>
<p>This will leave us with:</p>
<p><img src="/tech/blog/jinja-components/demo-2.png" alt=""></p>
<p>That‚Äôs great, our component works! Now it‚Äôs time to make better use of it. To make things easy I‚Äôm going to use <a href="https://github.com/xfxf/faker-python">faker</a> to generate some fake people. We can create a function called <code>generate_person()</code>, which will generate some fake data for us, and use that to make a list of people:</p>
<p><code>main.py</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># 1. Imports</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> jinja2 </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Environment, select_autoescape, FileSystemLoader</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> faker </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Faker</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">people </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#E1E4E8">fake </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Faker() </span><span style="color:#6A737D"># Used to generate fake people</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> generate_person</span><span style="color:#E1E4E8">() -> </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">  name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> fake.name()</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">    "name"</span><span style="color:#E1E4E8">:name, </span></span>
<span class="line"><span style="color:#9ECBFF">    "image"</span><span style="color:#E1E4E8">:</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">"https://api.dicebear.com/9.x/pixel-art/svg?seed=</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">name</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    "description"</span><span style="color:#E1E4E8">:fake.catch_phrase()</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 4. Render template with variables</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> _ </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    people.append(generate_person())</span></span>
<span class="line"><span style="color:#E1E4E8">html </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> example_template.render(</span><span style="color:#FFAB70">people</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">people)</span></span></code></pre>
<p>Now we can modify our <code>index.jinja</code> file to loop through the people and render them:</p>
<p><code>index.jinja</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">{% extends "base.jinja" %}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">{% block content %}</span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"grid"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    {% for person in people %}</span></span>
<span class="line"><span style="color:#E1E4E8">        {% with name=person.name, image=person.image, description=person.description %}</span></span>
<span class="line"><span style="color:#E1E4E8">            {% include "components/card.jinja" %}</span></span>
<span class="line"><span style="color:#E1E4E8">        {% endwith %}</span></span>
<span class="line"><span style="color:#E1E4E8">    {% endfor %}</span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">{% endblock content %}</span></span></code></pre>
<p>This will leave us with:</p>
<p><img src="/tech/blog/jinja-components/demo-3.png" alt=""></p>
<p>While this works, we wanted to have our people in groups of 3, so we need to modify our <code>index.jinja</code> file with a few small modifications. Essentially we will create groups of 3 out of the people using <a href="https://jinja.palletsprojects.com/en/stable/templates/#jinja-filters.batch">batch</a>, and then render each group as a separate grid, the code looks like this:</p>
<p><code>index.jinja</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">{%extends "base.jinja"%}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">{% block content %}</span></span>
<span class="line"><span style="color:#E1E4E8">  {% for group in people|batch(3) %}</span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> class</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"grid"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">      {% for person in group %}</span></span>
<span class="line"><span style="color:#E1E4E8">          {% with name=person.name, image=person.image, description=person.description %}</span></span>
<span class="line"><span style="color:#E1E4E8">              {% include "components/card.jinja" %}</span></span>
<span class="line"><span style="color:#E1E4E8">          {% endwith %}</span></span>
<span class="line"><span style="color:#E1E4E8">      {% endfor %}</span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  {% endfor %}</span></span>
<span class="line"><span style="color:#E1E4E8">{% endblock content %}</span></span></code></pre>
<p>This finally gives us the look we want, and we can re-use the card on any page we want:</p>
<p><img src="/tech/blog/jinja-components/demo-4.png" alt=""></p>
<h2 id="the-flask-version">The Flask Version</h2>
<p>The flask version of this setup is also very easy to do. Essentially you can copy the templates over, and then we just change <code>main.py</code> to use <a href="">flask</a> instead of pure jinja:</p>
<p><code>main.py</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># 1. Imports &#x26; global objects</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> flask </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Flask, render_template</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> faker </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Faker</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">app </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Flask(</span><span style="color:#79B8FF">__name__</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">fake </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> Faker()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> generate_person</span><span style="color:#E1E4E8">() -> </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">  name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> fake.name()</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">    "name"</span><span style="color:#E1E4E8">:name, </span></span>
<span class="line"><span style="color:#9ECBFF">    "image"</span><span style="color:#E1E4E8">:</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">"https://api.dicebear.com/9.x/pixel-art/svg?seed=</span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">name</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    "description"</span><span style="color:#E1E4E8">:fake.catch_phrase()</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 2. Setup a route for the hompage</span></span>
<span class="line"><span style="color:#B392F0">@app.route</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> hello</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    people </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> _ </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        people.append(generate_person())</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> render_template(</span><span style="color:#9ECBFF">"index.jinja"</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">people</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">people)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#79B8FF"> __name__</span><span style="color:#F97583"> ==</span><span style="color:#9ECBFF"> '__main__'</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#6A737D">    # 3. Run the app</span></span>
<span class="line"><span style="color:#E1E4E8">    app.run(</span><span style="color:#FFAB70">debug</span><span style="color:#F97583">=</span><span style="color:#79B8FF">True</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">host</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"0.0.0.0"</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">port</span><span style="color:#F97583">=</span><span style="color:#79B8FF">9898</span><span style="color:#E1E4E8">)</span></span></code></pre>
<p>You now have the beginnings of a web app ready to go!</p>  </article> </main> <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js" integrity="sha256-mm3Re3y7xlvh+yCD+l/Zs1d+PU0AEad93MkWvljfm/s=" crossorigin="anonymous"></script>   </main> </div> <footer class="footer footer-center block mb-5 pt-10"> <div class="pb-2">
&copy; 2025 Kieran Wood
</div> <div class="inline opacity-75"> <!-- Thanks for using this template. You can keep this line to support my work :) --> <a href="https://astrofy-template.netlify.app/" target="_blank" class="font-bold">Astrofy Template</a> developed by
<a href="https://manuelernestog.github.io" target="_blank" class="font-bold">Manuel Ernesto ‚ö°Ô∏è</a> </div> </footer>  </div> <div class="drawer-side z-40"> <label for="my-drawer" class="drawer-overlay"></label> <aside class="px-2 pt-2 h-auto min-h-full w-[19rem] bg-base-200 text-base-content flex flex-col"> <div class="w-fit mx-auto mt-5 mb-6"> <a href="/"> <div class="avatar transition ease-in-out hover:scale-[102%] block m-auto"> <div class="w-[8.5rem]"> <img src="/tech/profile.jpg" class="mask mask-circle" alt="Profile image" width="300" height="300" loading="lazy" decoding="async"> </div> </div> </a> </div> <ul class="menu grow shrink menu-md overflow-y-auto"> <li><a class="py-3 text-base" id="home" href="/tech/">Home</a></li> <li><a class="py-3 text-base" id="projects" href="/tech/projects">Projects</a></li> <!-- <li><a class="py-3 text-base" id="services" href="/tech/services">Services</a></li>
    <li><a class="py-3 text-base" id="store" href="/tech/store">Store</a></li> --> <li><a class="py-3 text-base" id="blog" href="/tech/blog/">Blog</a></li> <li><a class="py-3 text-base" id="cv" href="/tech/cv">CV</a></li> <li><a class="py-3 text-base" href="/tech/contact">Contact</a></li> </ul> <script>(function(){const sideBarActiveItemID = undefined;
const activeClass = "bg-base-300";

const activeItemElem = document.getElementById(sideBarActiveItemID);
activeItemElem && activeItemElem.classList.add(activeClass);
})();</script> <div class="block sticky pointer-events-none bottom-10 bg-base-200 justify-center h-12 [mask-image:linear-gradient(transparent,#000000)]"></div> <div class="social-icons px-4 pb-5 pt-1 flex self-center justify-center sticky bottom-0 bg-base-200"> <a href="https://github.com/descent098" target="_blank" class="mx-3" aria-label="Github" title="Github"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"></path> </svg> </a> <a href="https://www.linkedin.com/in/kieran-wood" target="_blank" class="mx-3" aria-label="Linkedin" title="Linkedin"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><circle cx="4.983" cy="5.009" r="2.188"></circle><path d="M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z"></path> </svg> </a> <a href="https://instagram.com/descent098" target="_blank" class="mx-3" aria-label="Instagram" title="Instagram"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 -5 24 24" style="fill: currentColor;transform: ;msFilter:;"><path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"></path> </svg> </a> <a href="/rss.xml" target="_blank" class="mx-3" aria-label="RSS Feed" title="RSS Feed"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><path d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z"></path><path d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z"></path><circle cx="6" cy="18" r="2"></circle> </svg> </a> </div> </aside> </div> </div> </body></html>