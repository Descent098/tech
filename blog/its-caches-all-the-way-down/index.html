<!DOCTYPE html><html lang="en" data-theme="lofi"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/jpeg" href="/tech/profile.jpg"><meta name="generator" content="Astro v5.17.2"><!-- Primary Meta Tags --><title>It&#39;s caches all the way down | Kieran Wood</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/tech/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CDGfc0hd.js"></script><meta name="title" content="It's caches all the way down"><meta name="description" content="Optimizing your applications by running functions less often"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://kieranwood.ca/tech/blog/its-caches-all-the-way-down/"><meta property="og:title" content="It's caches all the way down"><meta property="og:description" content="Optimizing your applications by running functions less often"><meta property="og:image" content="https://kieranwood.ca/tech/blog/whiteboard-2.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://kieranwood.ca/tech/blog/its-caches-all-the-way-down/"><meta property="twitter:title" content="It's caches all the way down"><meta property="twitter:description" content="Optimizing your applications by running functions less often"><meta property="twitter:image" content="https://kieranwood.ca/tech/blog/whiteboard-2.jpg"><link rel="stylesheet" href="/tech/_astro/_page_.7orOsfmi.css">
<style>.time-line-container>div:last-child .education__time>.education__line{display:none}details{background:#f0f0f0;padding:1rem;border-radius:.7rem;margin:.5rem auto;width:100%}summary{cursor:pointer}#TOC-list{list-style:none}#TOC-list li{margin-top:.15rem}.danger-banner{display:flex;flex-direction:row;background:#f44336;border-radius:.25rem;padding:1.1rem;color:#fff!important;flex-wrap:wrap}.danger-banner strong,.danger-banner a{color:#fff!important}.danger-banner:before{content:"!üõë Danger üõë!";flex-basis:100%;margin-bottom:.5rem;padding:.6rem;border-radius:.25rem;text-align:center;background:red;text-transform:uppercase}.warning-banner{display:flex;flex-direction:row;background:#fcc51e;border-radius:.25rem;padding:1.1rem;color:#141414!important;flex-wrap:wrap}.warning-banner strong,.warning-banner a{color:#141414!important}.warning-banner:before{content:"üü° Warning üü°";flex-basis:100%;margin-bottom:.5rem;padding:.6rem;border-radius:.25rem;text-align:center;background:#f6cb49;text-transform:uppercase;text-shadow:1px 1px 1px rgb(93,93,93)}.level-3{text-indent:1rem}.level-4{text-indent:2rem}.level-5{text-indent:3rem}.level-6{text-indent:4rem}.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media(prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><style>[data-astro-transition-scope="astro-vz7ejtmd-1"] { view-transition-name: __2ftech_2fblog_2fwhiteboard-2_2ejpg; }</style><style>[data-astro-transition-scope="astro-frvnq75b-2"] { view-transition-name: It_27s_20caches_20all_20the_20way_20down; }</style></head> <body> <div class="bg-base-100 drawer lg:drawer-open"> <input id="my-drawer" type="checkbox" class="drawer-toggle"> <div class="drawer-content bg-base-100"> <div class="sticky lg:hidden top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-all duration-100 bg-base-100 text-base-content shadow-sm"> <div class="navbar"> <div class="navbar-start"> <label for="my-drawer" class="btn btn-square btn-ghost"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </label> </div> <div class="navbar-center"> <a class="btn btn-ghost normal-case text-xl" href="/">Kieran Wood ‚ö°Ô∏è</a> </div> <div class="navbar-end"></div> </div> </div> <div class="md:flex md:justify-center"> <main class="p-6 pt-10 lg:max-w-[900px] max-w-[100vw]">  <main class="md:flex md:justify-center"> <article class="prose prose-lg max-w-[750px] prose-img:mx-auto"> <img src="/tech/blog/whiteboard-2.jpg" alt="It's caches all the way down" style="border-radius:.5em" data-astro-transition-scope="astro-vz7ejtmd-1" loading="lazy" decoding="async" fetchpriority="auto" width="750" height="422" class="w-full mb-6"> <h1 class="title my-2 text-4xl font-bold" data-astro-transition-scope="astro-frvnq75b-2">It&#39;s caches all the way down</h1> <time>Apr 3, 2023</time> <br>  <a href="/tech/blog/tag/optimization" class="badge badge-outline ml-2 no-underline"> optimization </a><a href="/tech/blog/tag/web" class="badge badge-outline ml-2 no-underline"> web </a><a href="/tech/blog/tag/scorch" class="badge badge-outline ml-2 no-underline"> scorch </a><a href="/tech/blog/tag/theory" class="badge badge-outline ml-2 no-underline"> theory </a><a href="/tech/blog/tag/terminology" class="badge badge-outline ml-2 no-underline"> terminology </a>  <p class="text-lg text-italics">Crossposted from <a class="text-violet-700" target="_blank" href="https://schulichignite.com/blog/its-caches-all-the-way-down/">https://schulichignite.com/blog/its-caches-all-the-way-down/</a></p> <div class="divider my-2"></div> <div> <h2>Table of contents</h2> <ul id="TOC-list"> <li class="level-2"> <a href="#what-is-a-cache" class="no-underline"> What is a cache? </a> </li><li class="level-2"> <a href="#a-note-about-the-examples" class="no-underline"> A note about the examples </a> </li><li class="level-2"> <a href="#simple-example-memoization" class="no-underline"> Simple example (memoization) </a> </li><li class="level-2"> <a href="#prefetchespre-caching" class="no-underline"> Prefetches/Pre-caching </a> </li><li class="level-2"> <a href="#layers-of-caches" class="no-underline"> Layers of caches </a> </li><li class="level-3"> <a href="#deviceos-cache" class="no-underline"> Device/OS cache </a> </li><li class="level-3"> <a href="#browser-cache" class="no-underline"> Browser cache </a> </li><li class="level-3"> <a href="#servercdn-cache" class="no-underline"> Server/CDN cache </a> </li><li class="level-3"> <a href="#full-example" class="no-underline"> Full Example </a> </li><li class="level-2"> <a href="#issues-with-caches" class="no-underline"> Issues with caches </a> </li><li class="level-2"> <a href="#cache-invalidation-strategies" class="no-underline"> Cache invalidation strategies </a> </li><li class="level-3"> <a href="#fixed-length" class="no-underline"> Fixed-length </a> </li><li class="level-3"> <a href="#time-basedttl" class="no-underline"> Time-based/TTL </a> </li><li class="level-3"> <a href="#updatepush-based" class="no-underline"> Update/Push-based </a> </li><li class="level-3"> <a href="#event-based" class="no-underline"> Event based </a> </li> </ul> </div>
  <hr><p>Nostalgia can be very powerful, looking back at the world can make people feel warm and fuzzy inside. However, one thing people are not nostalgic of is how long computers used to take to do things. People want fast computers. No one misses browsers taking minutes to start, or computers taking 10‚Äôs of minutes to boot. As computers have become more important in people‚Äôs lives programmers have been chasing ways to make things faster.</p>
<p>algorithmic optimizations, data structures, faster hardware, all of these things make computers faster. They let you run your code faster and faster. But the absolute fastest way to compute something is to not have to compute it in the first place.</p>
<p>Most of what we want to do in programming is redundant. It‚Äôs very rare there is something completely unique that someone is doing. The whole purpose of functions is based around this concept. We don‚Äôt want to type the same code over and over again. So how do we avoid repeating ourselves? and how do we use this to make things faster?</p>
<h2 id="what-is-a-cache">What is a cache?</h2>
<p>A cache is basically a system where you store something you know you will need for later. Imagine you work in a bakery. If you wait until someone orders a loaf of bread to cook it, then now every person who comes into your store has to wait for you to cook the loaf before they can leave. Instead if there‚Äôs usually 10 people who come in to buy loaves of bread, you can pre-cook them, and have them ready to buy.</p>
<p>A cache is the same idea. Let‚Äôs say you have a website with 25 pages, instead of having to open the file every time a user asks for the page you could just read the most popular pages (let‚Äôs say 10) and store them in memory. This way whenever people ask for those pages you don‚Äôt have to go and fetch them because you can just grab them from memory.</p>
<h2 id="a-note-about-the-examples">A note about the examples</h2>
<p>The examples all have a fake database system. This is not real code that will run. This would be replaced with however you actually access your data in code. It‚Äôs just there to help illustrate a point. Here are the functions and the info about them</p>
<ul>
<li><code>database.connect()</code>; Returns an object with the database that has <code>.get(table, key)</code> and <code>.store(table, key, value)</code> methods</li>
<li><code>db.get(table,key)</code>; A method on the database object that gets the information from a specified table with a given key. For example <code>db.get("user", userID)</code> gets data from the user table that has a given user ID</li>
<li><code>db.store(table, key, value)</code>; A method on the database object that stores information in a given table for a given key with a given value. For example <code>db.store("user", user_id, data)</code>, stores a key at <code>user_id</code> in the <code>user</code> table with the <code>data</code> provided</li>
</ul>
<h2 id="simple-example-memoization">Simple example (memoization)</h2>
<p>One of the simplest forms of caching is called memoization. Essentially you can have a function that takes in some parameters, and on the first run store the result in something like a hashmap/dictionary/list/array to look up the next time the function is called with the same parameters. For example let‚Äôs say you have a function that gets data about a user from a database by an id (an integer). Something like this:</p>
<p><code>js</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getUser</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">userID</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#6A737D">    // Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">    db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">(); </span></span>
<span class="line"><span style="color:#6A737D">    // Query for user and return data</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, userID);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p><code>python</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> get_user</span><span style="color:#E1E4E8">(user_id: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#6A737D">    # Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">    db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.connect() </span></span>
<span class="line"><span style="color:#6A737D">    # Query for user and return data</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> db.get(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id)</span></span></code></pre>
<p>In these two snippets there‚Äôs some sort of database system we need to connect to, then query for the data, and return it. This is fine, but what if we have 1000 queries at once? or the database is in one country, and the server is in another? We now have to wait for the connection every time. Often with something like this we might be making duplicate calls, like for example if there‚Äôs a profile page, or some user data that shows up across an app (profile pic etc.). What if instead we could store the results of the queries so that even just duplicate queries don‚Äôt need to happen. Here‚Äôs how we could do this:</p>
<p><code>js</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> users</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// Store results of user queries</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getUser</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">userID</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">users.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(userID)){ </span><span style="color:#6A737D">// New ID</span></span>
<span class="line"><span style="color:#6A737D">        // Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">        db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">(); </span></span>
<span class="line"><span style="color:#6A737D">        // Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, userID);</span></span>
<span class="line"><span style="color:#6A737D">        // Store data for next time</span></span>
<span class="line"><span style="color:#E1E4E8">        users.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(userID, data)</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> data</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> users.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(userID)</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p><code>python</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#E1E4E8">users </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> dict</span><span style="color:#E1E4E8">() </span><span style="color:#6A737D"># Store results of user queries</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> get_user</span><span style="color:#E1E4E8">(user_id: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    user_data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> users.get(user_id, </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#F97583"> not</span><span style="color:#E1E4E8"> user_data: </span><span style="color:#6A737D"># New user ID</span></span>
<span class="line"><span style="color:#6A737D">        # Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">        db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.connect() </span></span>
<span class="line"><span style="color:#6A737D">        # Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.get(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id)</span></span>
<span class="line"><span style="color:#6A737D">        # Store for next time</span></span>
<span class="line"><span style="color:#E1E4E8">        users[user_id] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> data </span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> data</span></span>
<span class="line"><span style="color:#F97583">    else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> user_data</span></span></code></pre>
<p>So if we called the function with the user ID 1, it will check if 1 exists in the map/dictionary, since it‚Äôs empty at the start it will then go and connect to the database, get the data and add it to the map/dictionary. Later on if we called the function again with the ID of 1 it would check the map/dictionary, see the value and just return it right away.</p>
<p>Python does have a built in one-liner to do this sort of thing inside <a href="https://docs.python.org/3/library/functools.html#functools.cache">the functools package</a>.</p>
<h2 id="prefetchespre-caching">Prefetches/Pre-caching</h2>
<p>Memoization is great, but there are tons of other caching strategies that can be more useful. For example let‚Äôs say you run a ticket app for buying movie tickets. If most people will buy a ticket 1 hour in advance of the showtime, you might want to cache the data for each movie in the system 1 hour before showtime since it‚Äôs likely to be needed then.</p>
<p>This method is called pre-fetching. Essentially you are guessing based on trends when you will need data, and preparing the most likely data you will need ahead of time. This can help in systems where you might end up with a lot of stress all at once, like for example game servers where the most popular time iis 5-8pm in each country because that‚Äôs when people get home from work/school. So you can rotate prefetching server data for each country around when this peak time is!</p>
<h2 id="layers-of-caches">Layers of caches</h2>
<p>There is rarely a system you will run into that only has one cache. There will often be multiple caches for multiple purposes interacting with each other. You might make a request for a webpage that compiles it‚Äôs data from a few dozen caches all at once.</p>
<p>Let‚Äôs examine what might happen for example when using a browser to get a webpage.</p>
<h3 id="deviceos-cache">Device/OS cache</h3>
<p>Your operating system on the device you‚Äôre using to read this article will have tons of caches built in. These device/OS caches have tons of use cases. For example you may cache the information of bluetooth devices you have connected to in the past, so you don‚Äôt have to re-ask the device for it‚Äôs information every time you pair it.</p>
<h3 id="browser-cache">Browser cache</h3>
<p>Now that you have the device level caches, the browser itself will often have it‚Äôs own caches. It might maintain stored information about you (passwords, name, address etc.), <a href="https://www.cloudflare.com/en-ca/learning/dns/what-is-dns/">DNS information</a>, and even caches of pages you‚Äôve recently visited, so it doesn‚Äôt have to even go to the network for every request.</p>
<h3 id="servercdn-cache">Server/CDN cache</h3>
<p>Now that you‚Äôve made the request for a page on the browser, the page you get returned back, might even just be a cache. Sometimes this comes in the form of caching like we‚Äôve seen (memoization etc.), or it might use a CDN. A CDN is basically a system that exists just to store static (unchanging) content to be distributed to users quickly. This means static pages are stored, and the server running the app doesn‚Äôt even get asked for the content, instead the CDN just gives it old cached copies.</p>
<h3 id="full-example">Full Example</h3>
<p>So if we were to request <a href="https://schulichignite.com">https://schulichignite.com</a> for example in a browser, here are some caches we <strong>might</strong> run into:</p>
<ol>
<li>Your OS cache for DNS; DNS is the system that turns domain names (like schulichignite.com) into something useful for your computer (IP address). Your operating system will typically have an internal cache for common DNS entries (google, microsoft etc.). Likewise there will be some caching as part of your home network and how you connect to the internet.</li>
<li>Your browser cache; Next as your browser is making the request it might use the <strong>browser‚Äôs</strong> DNS cache to see if you‚Äôve visited the domain before, and will use the stored value instead. On top of that even if it does go to the DNS it will also check the <em>page cache</em> in your browser to see if you‚Äôve been to the site recently, and if you have to show you a cached copy it stores on your device.</li>
<li>Server caches; Now assuming you didn‚Äôt get served the page from the browser‚Äôs cache you may find that the server you request the page from has the page stored in one of it‚Äôs caches, or in a CDN. At this point it will return the cached version of the page back to you, and your browser will take the response and cache it so it will load from disk next time.</li>
</ol>
<p>At this point just making that one request could be 10‚Äôs to 100‚Äôs of caches that are returning your value. Theoretically speaking you might end up with a request that actually isn‚Äôt processed at all with the typical code and the whole experience is just retrieved from a cache!</p>
<h2 id="issues-with-caches">Issues with caches</h2>
<p>We‚Äôve talked about adding to caches, but the big problem with caches is <em>cache invalidation</em>. We‚Äôre fundamentally storing data about a thing in the assumption that the data should stay the same, and therefore only needs to be checked once. The problem with this is that data doesn‚Äôt stay the same. People change their name on their profile, they update their picture etc. and if everything is cached forever, then those updates aren‚Äôt possible.</p>
<p>Cache invalidation is an incredibly hard problem:</p>
<blockquote>
<p>There are only two hard things in computer science: cache invalidation and naming things. - Phil Karlton</p>
</blockquote>
<p>The question is basically ‚ÄúHow much of the data we‚Äôre guessing will be useful later should we be keeping around, and for how long is it useful?‚Äù. One of the most common solutions is to pick a cap, for example only cache 200 pieces of user info at a time, or limit it to only X number of Mb of data etc.</p>
<p>One incredibly common option in webdev is TTL (time to live), which is often set to something like 10 mins. This means for each user the caches on their system are valid for 10 mins, then they are <strong>all</strong> purged and remade.</p>
<p>Another common problem where you can run into issues is when <a href="https://blog.twitter.com/engineering/en_us/topics/open-source/2021/dropping-cache-didnt-drop-cache">you think you‚Äôre clearing your cache properly, and aren‚Äôt</a>.</p>
<p>In fact the common joke about turning a computer system on and off again largely comes from caches. Often times programs store things in memory, which on your system is then stored in RAM. RAM will automatically purge it‚Äôs entire cache when it loses power. This is why turning computers off and on again is sometimes handy!</p>
<h2 id="cache-invalidation-strategies">Cache invalidation strategies</h2>
<p>There are tons of cache invalidation strategies you can use to make sure your data is correct, while still getting some of the performance benefits of caching. There‚Äôs not enough time to cover them all, and you will likely on most projects want to employ more than one of these, but here are a few approaches.</p>
<h3 id="fixed-length">Fixed-length</h3>
<p>Essentially this system is what we‚Äôve been talking about all this time, except we get rid of items when the cache reaches a certain size. This can be very important in systems with limited resources. You essentially just check if the cache has more items than a set threshold, and if it does you can either do:</p>
<ul>
<li>FIFO (Queue): First in First out, essentially you delete the oldest items first as you go</li>
<li>LIFO (Stack): Last in First out, This means you delete the newest items first as you go</li>
</ul>
<p>Depending on what you need. Keep in mind that some of the data types (maps, dictionaries etc.) in languages are <strong>unordered</strong>. This means deleting the ‚Äúfirst‚Äù key might be just deleting the first key alphabetically, or randomly, not necessarily the first key entered.</p>
<h3 id="time-basedttl">Time-based/TTL</h3>
<p>We already talked about TTL (time to live), this basically says ‚ÄúHey this cache is valid for the next X mins/hours/days‚Äù. When people make a request the server will check if the current date &#x26; time are <strong>before</strong> the expiry, and if they are after they will update the cache. It might look something like this:</p>
<pre class="mermaid">flowchart TD
    A[User] -->|Request site| B(Server)
    B --> C{See if current time >= expiry}
    C -->|No| D[Cache]
    D -->|Return stored result to user| A
    C -->|Yes| E{Cache is invalid}
    E --Request data then update cache &#x26; expiry-->D
</pre>
<p>With our earlier code, we could update it to expire after 10 mins:</p>
<p><code>js</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> users</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// Store results of user queries</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getUser</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">userID</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">users.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(userID)){ </span><span style="color:#6A737D">// New ID</span></span>
<span class="line"><span style="color:#6A737D">        // Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">        db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">(); </span></span>
<span class="line"><span style="color:#6A737D">        // Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, userID);</span></span>
<span class="line"><span style="color:#6A737D">        // Store data for next time</span></span>
<span class="line"><span style="color:#E1E4E8">        userData </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">        userData.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">, data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">        // Set expiry</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> MINUTESTOMILISECONDS</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 60000</span></span>
<span class="line"><span style="color:#6A737D">        // NOTE: To add 10 mins you need to add 10 mins worth of miliseconds</span></span>
<span class="line"><span style="color:#E1E4E8">        tenMinsFromNow </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">(Date.</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">10</span><span style="color:#F97583">*</span><span style="color:#79B8FF"> MINUTESTOMILISECONDS</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#E1E4E8">        userData.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"expiry"</span><span style="color:#E1E4E8">, tenMinsFromNow)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">        users.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(userID, userData)</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> userData.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#6A737D">            //Check if cache is valid</span></span>
<span class="line"><span style="color:#F97583">            if</span><span style="color:#E1E4E8"> (Date.</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> users.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(userID).</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"expiry"</span><span style="color:#E1E4E8">)){ </span></span>
<span class="line"><span style="color:#6A737D">                // Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">                db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">(); </span></span>
<span class="line"><span style="color:#6A737D">                // Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">                data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, userID);</span></span>
<span class="line"><span style="color:#6A737D">                // Store data for next time</span></span>
<span class="line"><span style="color:#E1E4E8">                userData </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">                userData.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">, data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">                // Set expiry</span></span>
<span class="line"><span style="color:#F97583">                const</span><span style="color:#79B8FF"> MINUTESTOMILISECONDS</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 60000</span></span>
<span class="line"><span style="color:#6A737D">                // NOTE: To add 10 mins you need to add 10 mins worth of miliseconds</span></span>
<span class="line"><span style="color:#E1E4E8">                tenMinsFromNow </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">(Date.</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">10</span><span style="color:#F97583">*</span><span style="color:#79B8FF"> MINUTESTOMILISECONDS</span><span style="color:#E1E4E8">)) </span></span>
<span class="line"><span style="color:#E1E4E8">                userData.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"expiry"</span><span style="color:#E1E4E8">, tenMinsFromNow)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">                users.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(userID, userData)</span></span>
<span class="line"><span style="color:#E1E4E8">            }</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> users.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(userID).</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p><code>python</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> datetime </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> datetime, timedelta</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">users </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> dict</span><span style="color:#E1E4E8">() </span><span style="color:#6A737D"># Store results of user queries</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> get_user</span><span style="color:#E1E4E8">(user_id: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    user_data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> users.get(user_id, </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#F97583"> not</span><span style="color:#E1E4E8"> user_data: </span><span style="color:#6A737D"># New user ID</span></span>
<span class="line"><span style="color:#6A737D">        # Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">        db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.connect() </span></span>
<span class="line"><span style="color:#6A737D">        # Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.get(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id)</span></span>
<span class="line"><span style="color:#6A737D">        # Store for next time</span></span>
<span class="line"><span style="color:#E1E4E8">        users[user_id] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">:data, </span><span style="color:#9ECBFF">"expiry"</span><span style="color:#E1E4E8">: datetime.now()</span><span style="color:#F97583">+</span><span style="color:#E1E4E8">timedelta(</span><span style="color:#FFAB70">minutes</span><span style="color:#F97583">=</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">)}</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> users[user_id][</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">    else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> datetime.now() </span><span style="color:#F97583">></span><span style="color:#E1E4E8"> users[user_id][</span><span style="color:#9ECBFF">"expiry"</span><span style="color:#E1E4E8">]: </span><span style="color:#6A737D"># Check if cache is valid</span></span>
<span class="line"><span style="color:#6A737D">            # Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">            db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.connect() </span></span>
<span class="line"><span style="color:#6A737D">            # Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">            data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.get(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id)</span></span>
<span class="line"><span style="color:#6A737D">            # Store for next time</span></span>
<span class="line"><span style="color:#E1E4E8">            users[user_id] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">:data, </span><span style="color:#9ECBFF">"expiry"</span><span style="color:#E1E4E8">: datetime.now()</span><span style="color:#F97583">+</span><span style="color:#E1E4E8">timedelta(</span><span style="color:#FFAB70">minutes</span><span style="color:#F97583">=</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">)}</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> users[user_id][</span><span style="color:#9ECBFF">"data"</span><span style="color:#E1E4E8">]</span></span></code></pre>
<p>You can also use this for pre-fetching data. For example maybe you have users across the world, and you know people will use your service at 6pm <strong>IN THEIR TIMEZONE</strong>, so you can clear and fill your cache with people in different regions at 5:55pm their time. This can help mitigate outages if your system can‚Äôt handle the load of people all trying to call the function at the same time!</p>
<p>This approach is ‚Äúeasy‚Äù to implement, but it comes with a ton of problems:</p>
<ul>
<li><strong>Time is relative;</strong> This isn‚Äôt a physics rant, time is literally relative around the world. Daylight savings, timezones etc. Not everyone‚Äôs 5pm is the same 5pm, even every persons hour is not the same. In lots of situations if you set a cache to expire in 10 mins, then daylight savings happens the cache might not invalidate for an hour longer than you were expecting!</li>
<li><strong>Moving pieces are hard to track;</strong> Usually your system won‚Äôt have one function being called. Lots of stuff happens at different times. Not every user is going to update their profile picture at your exact 10 min interval. This doesn‚Äôt matter a lot of the time, but for something time sensitive (like concert tickets going on sale), this can cause issues.</li>
<li><strong>Crystal balls aren‚Äôt very helpful;</strong> While lots of people are predictable, not every situation is. Let‚Äôs say you have the time based pre-fetching system in place, and you‚Äôre a movie streaming service. But then the global launch of a popular movie is at 3am in a country. You will end up with a massive load of traffic from that country at a time you weren‚Äôt expecting, and your caches won‚Äôt help you.</li>
</ul>
<p>All of these problems are present in the above example. There will actually be several bugs if you use the code provided. In python you can use timezone packages like <a href="https://pypi.org/project/pytz/">pytz</a> to avoid some of the problems, and in javascript <a href="https://github.com/spencermountain/spacetime">spacetime</a> has similar functionality.</p>
<h3 id="updatepush-based">Update/Push-based</h3>
<p>This method is essentially updating the cache when there is new data. This means you essentially ‚Äúsubscribe‚Äù to any changes. Here might be an example:</p>
<p><code>js</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> users</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Map</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// Store results of user queries</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> updateUser</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">user_id</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">data</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#6A737D">    // Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">    db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">() </span></span>
<span class="line"><span style="color:#6A737D">    // Store data in DB</span></span>
<span class="line"><span style="color:#E1E4E8">    db.</span><span style="color:#B392F0">store</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id, data) </span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (users.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(userID)){ </span><span style="color:#6A737D">// Exists in cache</span></span>
<span class="line"><span style="color:#6A737D">        // Update cache</span></span>
<span class="line"><span style="color:#E1E4E8">        users.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(userID, data)</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> getUser</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">userID</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">users.</span><span style="color:#B392F0">has</span><span style="color:#E1E4E8">(userID)){ </span><span style="color:#6A737D">// New ID</span></span>
<span class="line"><span style="color:#6A737D">        // Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">        db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">(); </span></span>
<span class="line"><span style="color:#6A737D">        // Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, userID);</span></span>
<span class="line"><span style="color:#6A737D">        // Store data for next time</span></span>
<span class="line"><span style="color:#E1E4E8">        users.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">(userID, data)</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> data</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> users.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(userID)</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p><code>python</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#E1E4E8">users </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> dict</span><span style="color:#E1E4E8">() </span><span style="color:#6A737D"># Store results of user queries</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update_user</span><span style="color:#E1E4E8">(user_id: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, data: </span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#6A737D">    # Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">    db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.connect() </span></span>
<span class="line"><span style="color:#6A737D">    # Store data in DB</span></span>
<span class="line"><span style="color:#E1E4E8">    db.store(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id, data) </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    # Update cache</span></span>
<span class="line"><span style="color:#E1E4E8">    user_data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> users.get(user_id, </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> user_data: </span><span style="color:#6A737D"># Exists in cache</span></span>
<span class="line"><span style="color:#E1E4E8">        users[user_id] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> data </span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> get_user</span><span style="color:#E1E4E8">(user_id: </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">    user_data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> users.get(user_id, </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#F97583"> not</span><span style="color:#E1E4E8"> user_data: </span><span style="color:#6A737D"># New user ID</span></span>
<span class="line"><span style="color:#6A737D">        # Connect and get database object</span></span>
<span class="line"><span style="color:#E1E4E8">        db </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> database.connect() </span></span>
<span class="line"><span style="color:#6A737D">        # Query for user</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> db.get(</span><span style="color:#9ECBFF">"user"</span><span style="color:#E1E4E8">, user_id)</span></span>
<span class="line"><span style="color:#6A737D">        # Store for next time</span></span>
<span class="line"><span style="color:#E1E4E8">        users[user_id] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> data </span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> data</span></span>
<span class="line"><span style="color:#F97583">    else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> user_data</span></span></code></pre>
<h3 id="event-based">Event based</h3>
<p>Sometimes changes happen on very regular schedules. For these sorts of changes you can have the cache invalidation happen only after a threshold event. For example you only have to update a cached list of results of games in a soccer tournament <strong>after each game</strong>. So you can have the cache be updated when the game has officially been ended and called by the referee.</p>  </article> </main> <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js" integrity="sha256-mm3Re3y7xlvh+yCD+l/Zs1d+PU0AEad93MkWvljfm/s=" crossorigin="anonymous"></script> <script type="module">mermaid.initialize({securityLevel:"loose",theme:"dark"});</script>  </main> </div> <footer class="footer footer-center block mb-5 pt-10"> <div class="pb-2">
&copy; 2026 Kieran Wood
</div> <div class="inline opacity-75"> <!-- Thanks for using this template. You can keep this line to support my work :) --> <a href="https://astrofy-template.netlify.app/" target="_blank" class="font-bold">Astrofy Template</a> developed by
<a href="https://manuelernestog.github.io" target="_blank" class="font-bold">Manuel Ernesto ‚ö°Ô∏è</a> </div> </footer>  </div> <div class="drawer-side z-40"> <label for="my-drawer" class="drawer-overlay"></label> <aside class="px-2 pt-2 h-auto min-h-full w-[19rem] bg-base-200 text-base-content flex flex-col"> <div class="w-fit mx-auto mt-5 mb-6"> <a href="/"> <div class="avatar transition ease-in-out hover:scale-[102%] block m-auto"> <div class="w-[8.5rem]"> <img src="/tech/profile.jpg" alt="Profile image" loading="lazy" decoding="async" fetchpriority="auto" width="300" height="300" class="mask mask-circle"> </div> </div> </a> </div> <ul class="menu grow shrink menu-md overflow-y-auto"> <li><a class="py-3 text-base" id="home" href="/tech/">Home</a></li> <li><a class="py-3 text-base" id="projects" href="/tech/projects">Projects</a></li> <!-- <li><a class="py-3 text-base" id="services" href="/tech/services">Services</a></li>
    <li><a class="py-3 text-base" id="store" href="/tech/store">Store</a></li> --> <li><a class="py-3 text-base" id="blog" href="/tech/blog/">Blog</a></li> <li><a class="py-3 text-base" id="cv" href="/tech/cv">CV</a></li> <li><a class="py-3 text-base" href="/tech/contact">Contact</a></li> </ul> <script>(function(){const sideBarActiveItemID = undefined;
const activeClass = "bg-base-300";

const activeItemElem = document.getElementById(sideBarActiveItemID);
activeItemElem && activeItemElem.classList.add(activeClass);
})();</script> <div class="block sticky pointer-events-none bottom-10 bg-base-200 justify-center h-12 [mask-image:linear-gradient(transparent,#000000)]"></div> <div class="social-icons px-4 pb-5 pt-1 flex self-center justify-center sticky bottom-0 bg-base-200"> <a href="https://github.com/descent098" target="_blank" class="mx-3" aria-label="Github" title="Github"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"></path> </svg> </a> <a href="https://www.linkedin.com/in/kieran-wood" target="_blank" class="mx-3" aria-label="Linkedin" title="Linkedin"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><circle cx="4.983" cy="5.009" r="2.188"></circle><path d="M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z"></path> </svg> </a> <a href="https://instagram.com/descent098" target="_blank" class="mx-3" aria-label="Instagram" title="Instagram"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 -5 24 24" style="fill: currentColor;transform: ;msFilter:;"><path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"></path> </svg> </a> <a href="/tech/rss.xml" target="_blank" class="mx-3" aria-label="RSS Feed" title="RSS Feed"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><path d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z"></path><path d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z"></path><circle cx="6" cy="18" r="2"></circle> </svg> </a> </div> </aside> </div> </div> </body></html>