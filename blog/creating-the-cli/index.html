<!DOCTYPE html><html lang="en" data-theme="lofi"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/jpeg" href="/tech/profile.jpg"><meta name="generator" content="Astro v4.4.15"><!-- Primary Meta Tags --><title>HHTTPPP; Creating a CLI | Kieran Wood</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta name="title" content="HHTTPPP; Creating a CLI"><meta name="description" content="Allowing users to interface with our HTTP server more easily! HHTTPP; Writing your own HTTP server Part 5/5"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://kieranwood.ca/tech/blog/creating-the-cli/"><meta property="og:title" content="HHTTPPP; Creating a CLI"><meta property="og:description" content="Allowing users to interface with our HTTP server more easily! HHTTPP; Writing your own HTTP server Part 5/5"><meta property="og:image" content="https://kieranwood.ca/tech/blog/hhttpp/hero.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://kieranwood.ca/tech/blog/creating-the-cli/"><meta property="twitter:title" content="HHTTPPP; Creating a CLI"><meta property="twitter:description" content="Allowing users to interface with our HTTP server more easily! HHTTPP; Writing your own HTTP server Part 5/5"><meta property="twitter:image" content="https://kieranwood.ca/tech/blog/hhttpp/hero.jpg"><link rel="stylesheet" href="/tech/_astro/_page_.D_l8DYJv.css" />
<style>.time-line-container>div:last-child .education__time>.education__line{display:none}details{background:#f0f0f0;padding:1rem;border-radius:.7rem;margin:.5rem auto;width:100%}summary{cursor:pointer}#TOC-list{list-style:none}#TOC-list li{margin-top:.15rem}.danger-banner{display:flex;flex-direction:row;background:#f44336;border-radius:.25rem;padding:1.1rem;color:#fff!important;flex-wrap:wrap}.danger-banner strong,.danger-banner a{color:#fff!important}.danger-banner:before{content:"!üõë Danger üõë!";flex-basis:100%;margin-bottom:.5rem;padding:.6rem;border-radius:.25rem;text-align:center;background:red;text-transform:uppercase}.warning-banner{display:flex;flex-direction:row;background:#fcc51e;border-radius:.25rem;padding:1.1rem;color:#141414!important;flex-wrap:wrap}.warning-banner strong,.warning-banner a{color:#141414!important}.warning-banner:before{content:"üü° Warning üü°";flex-basis:100%;margin-bottom:.5rem;padding:.6rem;border-radius:.25rem;text-align:center;background:#f6cb49;text-transform:uppercase;text-shadow:1px 1px 1px rgb(93,93,93)}.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}
@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module" src="/tech/_astro/hoisted.CHePpst8.js"></script><style>[data-astro-transition-scope="astro-vz7ejtmd-1"] { view-transition-name: __2ftech_2fblog_2fhhttpp_2fhero_2ejpg; }</style><style>[data-astro-transition-scope="astro-frvnq75b-2"] { view-transition-name: HHTTPPP_3b_20Creating_20a_20CLI; }</style></head> <body> <div class="bg-base-100 drawer lg:drawer-open"> <input id="my-drawer" type="checkbox" class="drawer-toggle"> <div class="drawer-content bg-base-100"> <div class="sticky lg:hidden top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-all duration-100 bg-base-100 text-base-content shadow-sm"> <div class="navbar"> <div class="navbar-start"> <label for="my-drawer" class="btn btn-square btn-ghost"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </label> </div> <div class="navbar-center"> <a class="btn btn-ghost normal-case text-xl" href="/">Kieran Wood ‚ö°Ô∏è</a> </div> <div class="navbar-end"></div> </div> </div> <div class="md:flex md:justify-center"> <main class="p-6 pt-10 lg:max-w-[900px] max-w-[100vw]">  <main class="md:flex md:justify-center"> <article class="prose prose-lg max-w-[750px] prose-img:mx-auto"> <img src="/tech/blog/hhttpp/hero.jpg" alt="HHTTPPP; Creating a CLI" class="w-full mb-6" style="border-radius:.5em" data-astro-transition-scope="astro-vz7ejtmd-1" width="750" height="422" loading="lazy" decoding="async"> <h1 class="title my-2 text-4xl font-bold" data-astro-transition-scope="astro-frvnq75b-2">HHTTPPP; Creating a CLI</h1> <time>Oct 2, 2023</time> <br>  <a href="/blog/tag/python" class="badge badge-outline ml-2 no-underline"> python </a><a href="/blog/tag/scorch" class="badge badge-outline ml-2 no-underline"> scorch </a><a href="/blog/tag/web" class="badge badge-outline ml-2 no-underline"> web </a><a href="/blog/tag/theory" class="badge badge-outline ml-2 no-underline"> theory </a>  <p class="text-lg text-italics">Crossposted from <a class="text-violet-700" target="_blank" href="https://schulichignite.com/blog/hhttpp/creating-the-cli/">https://schulichignite.com/blog/hhttpp/creating-the-cli/</a></p> <div class="divider my-2"></div> <div> <h2>Table of contents</h2> <ul id="TOC-list"> <li> <a href="#why" class="no-underline"> Why? </a> </li><li> <a href="#arugment-parsing" class="no-underline"> Arugment parsing </a> </li><li> <a href="#docopt" class="no-underline"> Docopt </a> </li><li> <a href="#usage-strings" class="no-underline"> Usage strings </a> </li><li> <a href="#docopt-basics" class="no-underline"> Docopt basics </a> </li><li> <a href="#when-to-use-docopt-and-when-not-to" class="no-underline"> When to use docopt and when not to </a> </li><li> <a href="#our-setup" class="no-underline"> Our setup </a> </li><li> <a href="#other-final-touches" class="no-underline"> Other final touches </a> </li> </ul> </div>
  <hr><p><a class="btn bg-violet-700 hover:bg-violet-500 text-white font-bold py-2 px-4 border border-violet-700 rounded" href="https://kieranwood.ca/tech/blog/implementing-the-networking-portion/" target="_blank">Previous post!</a></p>
<p>Now that we have our functionality, it‚Äôs time to make our program more practical and easy to use. For our use case a CLI is the best tool for this!</p>
<p>A CLI or command line interface is a program you use by calling it from a terminal in a directory. If you‚Äôre not familiar with how to use the command line very effectively, here‚Äôs some resources I would recommend:</p>
<ul>
<li><a href="https://kieranwood.ca/terminal-basics/#slide=1">Terminal basics (slideshow)</a></li>
<li><a href="https://www.youtube.com/watch?v=5XgBd6rjuDQ">How to use the Command Line | Terminal Basics for Beginners (MacOS | Video)</a></li>
<li><a href="https://www.youtube.com/watch?v=MBBWVgE0ewk&#x26;list=PL6gx4Cwl9DGDV6SnbINlVUd0o2xT4JbMu">Windows Command Line Tutorial - 1 - Introduction to the Command Prompt (Video)</a></li>
<li><a href="https://www.youtube.com/watch?v=FpRGRLI8Fy8">Windows PowerShell/Command Line for Beginners (Video)</a></li>
</ul>
<h2 id="why">Why?</h2>
<p>In our case creating a GUI (Graphical User Interface), is mostly going to be slower. Our users are primarily going to be devs and/or tech savy people we expect to know how to use a command line, and a CLI will be faster for what we need.</p>
<p>Here are some of the main reasons we‚Äôre creating a CLI at all instead of just making people run the script from the python file:</p>
<ol>
<li>It allows you to pass arguments/flags in an easy manner</li>
<li>It can be invoked from the command line; There‚Äôs no need to keep a file in every directory you want to use it in</li>
<li>It allows you to seperate your more common usage into an easy to use CLI, while allowing an API to exist for more complicated functionality or use cases</li>
<li>It can be used in other scripts/CI/CD easily since people just need to run it from the command line</li>
</ol>
<p>So let‚Äôs learn about how to setup CLI‚Äôs!</p>
<h2 id="arugment-parsing">Arugment parsing</h2>
<p>A CLI allows you to pass in flags/arguments, these flags/arguments are like funciton parameters, but they‚Äôre provided by the user before the program starts. This lets users for example choose to run an app in different modes, or pass in information like an output directory for the output of a program etc.</p>
<p>As such the only real ‚Äúprocessing‚Äù a CLI does besides just running existing code is argument parsing. Argument parsing is basically taking what someone types into the terminal and parsing it into usable data. The most basic way of doing this is <code>sys.argv</code>. <code>sys.argv</code> is the way that information is passed into your program from <a href="https://www.computerhope.com/jargon/s/stdin.htm">stdin</a>. For example if I run <code>python hhttpp.py -h</code>, then I can run:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> sys</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">print</span><span style="color:#E1E4E8">(sys.argv) </span><span style="color:#6A737D"># ['hhttpp.py', '-h']</span></span></code></pre>
<p>You can see that everything after <code>python</code> (which is the command) will be added to <code>sys.argv</code> as a list item. We could use this to for example have the first argument be a directory, and the second argument to be a port. For example if I ran <code>python hhttpp.py /site 8338</code> then <code>sys.argv</code> would be <code>['hhttpp.py', '/site', '8338']</code>. We could then use these arguments to instantiate a <code>Server</code> object, and then start it with <code>Server.start_server</code>!</p>
<h3 id="docopt">Docopt</h3>
<p><code>sys.argv</code> is great for very simple things, however for more flexibility we need something more robust. There are tons of argument parsers, but there are few that are as fast to develop with as <a href="http://docopt.org/">docopt</a>. It has a bit of a learning curve, but once you are aware of the patterns it is very fast to write. Docopt will generate your argument parsing automatically based on your usage string.</p>
<h4 id="usage-strings">Usage strings</h4>
<p>A usage string is the ‚Äúhelp‚Äù text that appears for commands. For example a project I wrote called <a href="https://github.com/Descent098/ahd">ahd</a> has this usage string:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#B392F0">AHD:</span><span style="color:#9ECBFF"> Ad-hoc</span><span style="color:#9ECBFF"> Dispatcher</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Usage:</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#B392F0">    ahd</span><span style="color:#E1E4E8"> [-h] [-v]</span></span>
<span class="line"><span style="color:#B392F0">    ahd</span><span style="color:#9ECBFF"> list</span><span style="color:#E1E4E8"> [-l]</span></span>
<span class="line"><span style="color:#B392F0">    ahd</span><span style="color:#9ECBFF"> docs</span><span style="color:#E1E4E8"> [-a] [-o]</span></span>
<span class="line"><span style="color:#B392F0">    ahd</span><span style="color:#9ECBFF"> config</span><span style="color:#E1E4E8"> [-e] [-i CONFIG_FILE_PATH]</span></span>
<span class="line"><span style="color:#B392F0">    ahd</span><span style="color:#9ECBFF"> register</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">nam</span><span style="color:#E1E4E8">e</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> [&#x3C;command>] [</span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">paths</span><span style="color:#F97583">></span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#B392F0">    ahd</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF">nam</span><span style="color:#E1E4E8">e</span><span style="color:#F97583">></span><span style="color:#E1E4E8"> [&#x3C;command>] [</span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">paths</span><span style="color:#F97583">></span><span style="color:#E1E4E8">] [-d]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Options:</span></span>
<span class="line"><span style="color:#B392F0">    -h,</span><span style="color:#79B8FF"> --help</span><span style="color:#9ECBFF">            show</span><span style="color:#9ECBFF"> this</span><span style="color:#9ECBFF"> help</span><span style="color:#9ECBFF"> message</span><span style="color:#9ECBFF"> and</span><span style="color:#9ECBFF"> exit</span></span>
<span class="line"><span style="color:#B392F0">    -v,</span><span style="color:#79B8FF"> --version</span><span style="color:#9ECBFF">         show</span><span style="color:#9ECBFF"> program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -l, --long            Shows all commands in configuration with paths and commands</span></span>
<span class="line"><span style="color:#9ECBFF">    -a, --api             shows the local API docs</span></span>
<span class="line"><span style="color:#9ECBFF">    -o, --offline         shows the local User docs instead of live ones</span></span>
<span class="line"><span style="color:#9ECBFF">    -e, --export          exports the configuration file</span></span>
<span class="line"><span style="color:#9ECBFF">    -i CONFIG_FILE_PATH, --import CONFIG_FILE_PATH </span></span>
<span class="line"><span style="color:#9ECBFF">                        imports the configuration file</span></span>
<span class="line"><span style="color:#9ECBFF">    -d, --details         prints the details of a command</span></span></code></pre>
<p>Each line under the <code>Usage</code> header is a different possible pattern. For example <code>ahd list</code> would use the pattern on line 2, <code>ahd config -e</code> would use line 4. Anything inside square parenthesis (<code>[]</code>) are optional arguments/flags/variables. For everything else you can find details <a href="http://docopt.org/">here</a>. Anything with a <code>-</code> is a flag, typically these are used as a boolean where if they‚Äôre specified they‚Äôre true, and if not they‚Äôre false. They also each have a long and short version (i.e. <code>-e</code> and <code>--export</code> are the same flags). Any flag that has text after it (i.e. <code>-i CONFIG_FILE_PATH</code>) allows you to store values for flags, so in this case you can type something like <code>--import="/file/config.yaml"</code>.</p>
<p>Let‚Äôs put together a quick usage string. Here is the basic format I would always use:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">CLI_name</span><span style="color:#F97583">></span><span style="color:#E1E4E8">: </span><span style="color:#F97583">&#x3C;</span><span style="color:#E1E4E8">Short Description</span><span style="color:#F97583">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Usage:</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#F97583">    &#x3C;</span><span style="color:#B392F0">CLI_name></span><span style="color:#E1E4E8"> [-h] [-v]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Options:</span></span>
<span class="line"><span style="color:#B392F0">    -h,</span><span style="color:#79B8FF"> --help</span><span style="color:#9ECBFF">            show</span><span style="color:#9ECBFF"> this</span><span style="color:#9ECBFF"> help</span><span style="color:#9ECBFF"> message</span><span style="color:#9ECBFF"> and</span><span style="color:#9ECBFF"> exit</span></span>
<span class="line"><span style="color:#B392F0">    -v,</span><span style="color:#79B8FF"> --version</span><span style="color:#9ECBFF">         show</span><span style="color:#9ECBFF"> program's version number and exit</span></span></code></pre>
<p>From here we can start building out a CLI. In our case we can will start by building a usage string for a math CLI (called <code>math</code>) that can be used to do various math operations. So with our template we can start with:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#B392F0">Math:</span><span style="color:#9ECBFF"> Doing</span><span style="color:#9ECBFF"> mathy</span><span style="color:#9ECBFF"> things</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Usage:</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#E1E4E8"> [-h] [-v]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Options:</span></span>
<span class="line"><span style="color:#B392F0">    -h,</span><span style="color:#79B8FF"> --help</span><span style="color:#9ECBFF">            show</span><span style="color:#9ECBFF"> this</span><span style="color:#9ECBFF"> help</span><span style="color:#9ECBFF"> message</span><span style="color:#9ECBFF"> and</span><span style="color:#9ECBFF"> exit</span></span>
<span class="line"><span style="color:#B392F0">    -v,</span><span style="color:#79B8FF"> --version</span><span style="color:#9ECBFF">         show</span><span style="color:#9ECBFF"> program's version number and exit</span></span></code></pre>
<p>From here we will have the following functionality:</p>



































<table><thead><tr><th>Command</th><th>Arguments/flags</th><th>Description</th></tr></thead><tbody><tr><td>multiply</td><td>x and y both ints</td><td>Multiplies <code>x * y</code></td></tr><tr><td>divide</td><td>x and y both ints</td><td>Divides <code>x / y</code></td></tr><tr><td>idivide</td><td>x and y both ints</td><td>Divides <code>x / y</code> and rounds down to nearest integer</td></tr><tr><td>sqrt</td><td>x which is an int</td><td>Takes square root of x</td></tr><tr><td>pi</td><td>l an optional int for how many decimal places to show pi to (default 6)</td><td>Show digits of pi to <code>l</code> digits</td></tr></tbody></table>
<p>Let‚Äôs build out the new usage string:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#B392F0">Math:</span><span style="color:#9ECBFF"> Doing</span><span style="color:#9ECBFF"> mathy</span><span style="color:#9ECBFF"> things</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Usage:</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#E1E4E8"> [-h] [-v]</span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#9ECBFF"> multiply</span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">x</span><span style="color:#F97583">></span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">y</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#9ECBFF"> divide</span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">x</span><span style="color:#F97583">></span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">y</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#9ECBFF"> idivide</span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">x</span><span style="color:#F97583">></span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">y</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#9ECBFF"> sqrt</span><span style="color:#F97583"> &#x3C;</span><span style="color:#E1E4E8">x</span><span style="color:#F97583">></span></span>
<span class="line"><span style="color:#B392F0">    math</span><span style="color:#9ECBFF"> pi</span><span style="color:#E1E4E8"> [-l]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Options:</span></span>
<span class="line"><span style="color:#B392F0">    -h,</span><span style="color:#79B8FF"> --help</span><span style="color:#9ECBFF">            show</span><span style="color:#9ECBFF"> this</span><span style="color:#9ECBFF"> help</span><span style="color:#9ECBFF"> message</span><span style="color:#9ECBFF"> and</span><span style="color:#9ECBFF"> exit</span></span>
<span class="line"><span style="color:#B392F0">    -v,</span><span style="color:#79B8FF"> --version</span><span style="color:#9ECBFF">         show</span><span style="color:#9ECBFF"> program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -l, --length          The number of digits of pi you want</span></span></code></pre>
<p>Here are the functions we want to call with the CLI:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> multiply</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> divide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">/</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> idivide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">//</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> sqrt</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x</span><span style="color:#F97583">**</span><span style="color:#79B8FF">.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> pi</span><span style="color:#E1E4E8">(length:</span><span style="color:#79B8FF">int</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 6</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    PI</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 3.141592653589793238462643</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> float</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">PI</span><span style="color:#E1E4E8">)[:length])</span></span></code></pre>
<h4 id="docopt-basics">Docopt basics</h4>
<p>For most other argument parsers you build the parser (<a href="https://docs.python.org/3/library/optparse.html">Like optparse objects</a>, or <a href="https://docs.python.org/3/library/argparse.html">argparse objects</a> ), and at the end it generates usage text when people pass in <code>-h</code> or <code>--help</code>.</p>
<p>Docopt does the opposite, you define your usage string and it <strong>builds the parser for you</strong>. This is handy because it means that for lots of simple CLI‚Äôs you can build out the parser in seconds by just writing a usage string. The steps are:</p>
<ol>
<li>Define a usage string</li>
<li>Pass the usage string into a docopt method</li>
<li>Docopt will parse the usage string, and the values passed in, which will be put into a dictionary you can interface with</li>
</ol>
<p>With our math example we can do something like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> typing </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Union</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> docopt </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> docopt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">usage </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> """Math: Doing mathy things</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Usage: </span></span>
<span class="line"><span style="color:#9ECBFF">    math [-h] [-v]</span></span>
<span class="line"><span style="color:#9ECBFF">    math multiply &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math divide &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math idivide &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math sqrt &#x3C;x></span></span>
<span class="line"><span style="color:#9ECBFF">    math pi [-l]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Options:</span></span>
<span class="line"><span style="color:#9ECBFF">    -h, --help            show this help message and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -v, --version         show program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -l, --length          The number of digits of pi you want</span></span>
<span class="line"><span style="color:#9ECBFF">"""</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> multiply</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> divide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">/</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> idivide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">//</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> sqrt</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x</span><span style="color:#F97583">**</span><span style="color:#79B8FF">.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> pi</span><span style="color:#E1E4E8">(length:</span><span style="color:#79B8FF">int</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 6</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    PI</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 3.141592653589793238462643</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> float</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">PI</span><span style="color:#E1E4E8">)[:length])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">args </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> docopt(usage, </span><span style="color:#FFAB70">version</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"0.1.0"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">print</span><span style="color:#E1E4E8">(args)</span></span></code></pre>
<p>So in our case if we called the CLI with <code>math multiply 3 4</code> we would get:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">args </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">    '--help'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    '--length'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    '--version'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    '&#x3C;x>'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'3'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    '&#x3C;y>'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'4'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    'divide'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    'idivide'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    'multiply'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">True</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    'pi'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    'sqrt'</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">False</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>We can call <code>math -h</code> to get our usage string, the same way we would if we built our parser from scratch. From here to implement multiply we could do:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> typing </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Union</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> docopt </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> docopt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">usage </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> """Math: Doing mathy things</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Usage: </span></span>
<span class="line"><span style="color:#9ECBFF">    math [-h] [-v]</span></span>
<span class="line"><span style="color:#9ECBFF">    math multiply &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math divide &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math idivide &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math sqrt &#x3C;x></span></span>
<span class="line"><span style="color:#9ECBFF">    math pi [-l]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Options:</span></span>
<span class="line"><span style="color:#9ECBFF">    -h, --help            show this help message and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -v, --version         show program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -l, --length          The number of digits of pi you want</span></span>
<span class="line"><span style="color:#9ECBFF">"""</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> multiply</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> divide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">/</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> idivide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">//</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> sqrt</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x</span><span style="color:#F97583">**</span><span style="color:#79B8FF">.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> pi</span><span style="color:#E1E4E8">(length:</span><span style="color:#79B8FF">int</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 6</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    PI</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 3.141592653589793238462643</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> float</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">PI</span><span style="color:#E1E4E8">)[:length])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">args </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> docopt(usage, </span><span style="color:#FFAB70">version</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"0.1.0"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">print</span><span style="color:#E1E4E8">(args)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"multiply"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(multiply(</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">(args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">]), </span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">(args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">])))</span></span></code></pre>
<p>You will notice that <strong>all arguments come in as strings</strong> (besides flags which are booleans), so you need to explicitly convert to other data types like int/float. So implementing all our functionality would look something like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> typing </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Union</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> docopt </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> docopt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">usage </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> """Math: Doing mathy things</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Usage: </span></span>
<span class="line"><span style="color:#9ECBFF">    math [-h] [-v]</span></span>
<span class="line"><span style="color:#9ECBFF">    math multiply &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math divide &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math idivide &#x3C;x> &#x3C;y></span></span>
<span class="line"><span style="color:#9ECBFF">    math sqrt &#x3C;x></span></span>
<span class="line"><span style="color:#9ECBFF">    math pi [-l DIGITS]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Options:</span></span>
<span class="line"><span style="color:#9ECBFF">    -h, --help            show this help message and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -v, --version         show program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -l DIGITS, --length DIGITS</span></span>
<span class="line"><span style="color:#9ECBFF">                          The number of digits of pi you want</span></span>
<span class="line"><span style="color:#9ECBFF">"""</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> multiply</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">*</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> divide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">/</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> idivide</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, y:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">//</span><span style="color:#E1E4E8"> y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> sqrt</span><span style="color:#E1E4E8">(x:</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">) -> </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x</span><span style="color:#F97583">**</span><span style="color:#79B8FF">.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> pi</span><span style="color:#E1E4E8">(length:</span><span style="color:#79B8FF">int</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 6</span><span style="color:#E1E4E8">) -> Union[</span><span style="color:#79B8FF">int</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">float</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    PI</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 3.141592653589793238462643</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> float</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">PI</span><span style="color:#E1E4E8">)[:length])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">args </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> docopt(usage, </span><span style="color:#FFAB70">version</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"0.1.0"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">    args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> int</span><span style="color:#E1E4E8">(args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">])</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">    args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> int</span><span style="color:#E1E4E8">(args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">])</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"--length"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">    args[</span><span style="color:#9ECBFF">"--length"</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> int</span><span style="color:#E1E4E8">(args[</span><span style="color:#9ECBFF">"--length"</span><span style="color:#E1E4E8">])</span></span>
<span class="line"><span style="color:#F97583">else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">    args[</span><span style="color:#9ECBFF">"--length"</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"multiply"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(multiply(args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">], args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">]))</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"divide"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(divide(args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">], args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">]))</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"idivide"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(idivide(args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">], args[</span><span style="color:#9ECBFF">"&#x3C;y>"</span><span style="color:#E1E4E8">]))</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"sqrt"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(sqrt(args[</span><span style="color:#9ECBFF">"&#x3C;x>"</span><span style="color:#E1E4E8">]))</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"pi"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#79B8FF">    print</span><span style="color:#E1E4E8">(pi(args[</span><span style="color:#9ECBFF">"--length"</span><span style="color:#E1E4E8">]))</span></span></code></pre>
<p>We can test this without installing the cli, if the file is called <code>docopt_testing.py</code> then we can run something like <code>python docopt_testing.py pi --length=15</code>.</p>
<h4 id="when-to-use-docopt-and-when-not-to">When to use docopt and when not to</h4>
<p>Docopt is great, and some extra features it grants you without extra config are:</p>
<ul>
<li>Another issues docopt solves is ordering, you can</li>
<li>Invalid states will just print the usage string to the command line so people know they made a mistake</li>
<li>People can check version they have installed easily with <code>-v</code></li>
</ul>
<p>You do have to learn how to read usage strings, but you <strong>should</strong> do that anyways since ou need to learn how to read usage strings to use other people‚Äôs projects. If you already have these skills you should already know the rules for writing the parser!</p>
<p>Docopt is a great option for argument parsing, but it has it‚Äôs drawbacks:</p>
<ul>
<li>You must have access to install libraries which is not always possible</li>
<li>You are introducing a third party library and all it‚Äôs bugs</li>
<li>in very very simple cases it‚Äôs more effort to write a usage string than just use <code>sys.argv</code></li>
</ul>
<h2 id="our-setup">Our setup</h2>
<p>For HHTTPP we will be using the following usage string:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#B392F0">hhttpp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Free</span><span style="color:#9ECBFF"> range</span><span style="color:#9ECBFF"> artisnal</span><span style="color:#9ECBFF"> HTTP</span><span style="color:#9ECBFF"> server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Usage:</span></span>
<span class="line"><span style="color:#B392F0">    hhttpp</span><span style="color:#E1E4E8"> [-h] [-v] [-p PORT] [-f PROXY_FOLDER]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Options:</span></span>
<span class="line"><span style="color:#B392F0">    -h,</span><span style="color:#79B8FF"> --help</span><span style="color:#9ECBFF">            Show</span><span style="color:#9ECBFF"> this</span><span style="color:#9ECBFF"> help</span><span style="color:#9ECBFF"> message</span><span style="color:#9ECBFF"> and</span><span style="color:#9ECBFF"> exit</span></span>
<span class="line"><span style="color:#B392F0">    -v,</span><span style="color:#79B8FF"> --version</span><span style="color:#9ECBFF">         Show</span><span style="color:#9ECBFF"> program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -p PORT, --port PORT  The port to start the server on</span></span>
<span class="line"><span style="color:#9ECBFF">    -f PROXY_FOLDER, --folder PROXY_FOLDER</span></span>
<span class="line"><span style="color:#9ECBFF">                          Lets you specify a folder to proxy instead of cwd</span></span></code></pre>
<p>So in this case we have the option to get the version, or help. From there we have 2 optional positional arguments. <code>-p</code>/<code>--port</code> and <code>f</code>/<code>--folder</code>, the reason these are not optional variables is because with optional variables <strong>ORDER MATTERS</strong>. Meaning if people wanted to specify a folder they would have to speficy a port, which I didn‚Äôt want. In our code we provide sensible defaults, so someone can offer both, or neither of the <code>-p</code> or <code>-f</code> flags, people can also skip the <code>-h</code>, or <code>-v</code> flags completely.</p>
<p>From here the argument parsing looks like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Python Standard Library dependencies</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> os                           </span><span style="color:#6A737D"># Used to validate paths</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> socket                       </span><span style="color:#6A737D"># Used to validate ports</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> random </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> randint          </span><span style="color:#6A737D"># Provides a random integer between a range</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Internal Dependencies</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> hhttpp </span><span style="color:#F97583">import</span><span style="color:#79B8FF"> __version__</span><span style="color:#6A737D">      # Get the current hhttpp version</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> hhttpp.classes </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Server   </span><span style="color:#6A737D"># Used to instantiate hhttpp Server's</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Third Party Dependencies</span></span>
<span class="line"><span style="color:#F97583">from</span><span style="color:#E1E4E8"> docopt </span><span style="color:#F97583">import</span><span style="color:#E1E4E8"> docopt           </span><span style="color:#6A737D"># Used for argument parsing</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">usage </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> """hhttpp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Free range artisnal HTTP server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Usage: </span></span>
<span class="line"><span style="color:#9ECBFF">    hhttpp [-h] [-v] [-p PORT] [-f PROXY_FOLDER]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF">Options:</span></span>
<span class="line"><span style="color:#9ECBFF">    -h, --help            Show this help message and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -v, --version         Show program's version number and exit</span></span>
<span class="line"><span style="color:#9ECBFF">    -p PORT, --port PORT  The port to start the server on </span></span>
<span class="line"><span style="color:#9ECBFF">    -f PROXY_FOLDER, --folder PROXY_FOLDER </span></span>
<span class="line"><span style="color:#9ECBFF">                          Lets you specify a folder to proxy instead of cwd</span></span>
<span class="line"><span style="color:#9ECBFF">"""</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#6A737D">    # This will be the primary entrypoint for the CLI</span></span>
<span class="line"><span style="color:#E1E4E8">    args </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> docopt(usage, </span><span style="color:#FFAB70">version</span><span style="color:#F97583">=</span><span style="color:#79B8FF">__version__</span><span style="color:#E1E4E8">) </span><span style="color:#6A737D"># Will be used in later post to do CLI parsing</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    # Specify default port and folder if none is provided</span></span>
<span class="line"><span style="color:#E1E4E8">    port </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 8338</span></span>
<span class="line"><span style="color:#E1E4E8">    folder </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "."</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    # Override defaults if valid alternative was provided</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"--port"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">        port </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> int</span><span style="color:#E1E4E8">(args[</span><span style="color:#9ECBFF">"--port"</span><span style="color:#E1E4E8">])</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"--folder"</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#F97583"> not</span><span style="color:#E1E4E8"> os.path.exists(args[</span><span style="color:#9ECBFF">"--folder"</span><span style="color:#E1E4E8">]):</span></span>
<span class="line"><span style="color:#F97583">            raise</span><span style="color:#79B8FF"> ValueError</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">"Folder path </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">args[</span><span style="color:#9ECBFF">'--folder'</span><span style="color:#E1E4E8">]</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> does not exist"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        folder </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> args[</span><span style="color:#9ECBFF">"--folder"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    # Attempt to assign requested port, retry on failure</span></span>
<span class="line"><span style="color:#E1E4E8">    valid_port </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> False</span></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#F97583"> not</span><span style="color:#E1E4E8"> valid_port:</span></span>
<span class="line"><span style="color:#6A737D">        # Check if port is open </span></span>
<span class="line"><span style="color:#E1E4E8">        port_testing_socket </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> socket.socket(socket.</span><span style="color:#79B8FF">AF_INET</span><span style="color:#E1E4E8">, socket.</span><span style="color:#79B8FF">SOCK_STREAM</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">        destination </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> (</span><span style="color:#9ECBFF">"127.0.0.1"</span><span style="color:#E1E4E8">, port)</span></span>
<span class="line"><span style="color:#E1E4E8">        result </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> port_testing_socket.connect_ex(destination)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#F97583"> not</span><span style="color:#E1E4E8"> result: </span><span style="color:#6A737D"># Port is taken, assign new random one</span></span>
<span class="line"><span style="color:#E1E4E8">            new_port </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> randint(</span><span style="color:#79B8FF">1_000</span><span style="color:#E1E4E8">,</span><span style="color:#79B8FF">10_000</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">"Could not connect to port </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">port</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF"> trying other port </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">new_port</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            port </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> new_port</span></span>
<span class="line"><span style="color:#E1E4E8">            port_testing_socket.close()</span></span>
<span class="line"><span style="color:#F97583">        else</span><span style="color:#E1E4E8">: </span><span style="color:#6A737D"># Current port is valid</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">f</span><span style="color:#9ECBFF">"Valid port found: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">port</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">            valid_port </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> True</span></span>
<span class="line"><span style="color:#E1E4E8">            port_testing_socket.close()</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#6A737D">    # Start server with specified values!</span></span>
<span class="line"><span style="color:#E1E4E8">    Server(folder, </span><span style="color:#FFAB70">port</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">port).start_server()</span></span></code></pre>
<h2 id="other-final-touches">Other final touches</h2>
<p>Now we have a CLI there‚Äôs a few extras we can work on to improve our CLI:</p>
<ul>
<li>Documenting the CLI and usage in something like a <code>readme.md</code>, or if it‚Äôs really complicated a dedicated site to using the system can be handy (like <a href="https://ezcv.readthedocs.io/en/latest/cli/">this project</a> I wrote). Not having a readme or some other documentation makes it really hard for people to use your project (things that seem obvious to you aren‚Äôt obvious to everyone).</li>
<li>Documenting API usage for people who want to use it programatically. For example if people want to be able to extend your project, or pass argumetns themselves directly etc. (an example would be <a href="https://kieranwood.ca/ezcv/">the api docs</a> for the same project from earlier)</li>
</ul>  </article> </main> <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js" integrity="sha256-mm3Re3y7xlvh+yCD+l/Zs1d+PU0AEad93MkWvljfm/s=" crossorigin="anonymous"></script>   </main> </div> <footer class="footer footer-center block mb-5 pt-10"> <div class="pb-2">
&copy; 2025 Kieran Wood
</div> <div class="inline opacity-75"> <!-- Thanks for using this template. You can keep this line to support my work :) --> <a href="https://astrofy-template.netlify.app/" target="_blank" class="font-bold">Astrofy Template</a> developed by
<a href="https://manuelernestog.github.io" target="_blank" class="font-bold">Manuel Ernesto ‚ö°Ô∏è</a> </div> </footer>  </div> <div class="drawer-side z-40"> <label for="my-drawer" class="drawer-overlay"></label> <aside class="px-2 pt-2 h-auto min-h-full w-[19rem] bg-base-200 text-base-content flex flex-col"> <div class="w-fit mx-auto mt-5 mb-6"> <a href="/"> <div class="avatar transition ease-in-out hover:scale-[102%] block m-auto"> <div class="w-[8.5rem]"> <img src="/tech/profile.jpg" class="mask mask-circle" alt="Profile image" width="300" height="300" loading="lazy" decoding="async"> </div> </div> </a> </div> <ul class="menu grow shrink menu-md overflow-y-auto"> <li><a class="py-3 text-base" id="home" href="/tech/">Home</a></li> <li><a class="py-3 text-base" id="projects" href="/tech/projects">Projects</a></li> <!-- <li><a class="py-3 text-base" id="services" href="/tech/services">Services</a></li>
    <li><a class="py-3 text-base" id="store" href="/tech/store">Store</a></li> --> <li><a class="py-3 text-base" id="blog" href="/tech/blog/">Blog</a></li> <li><a class="py-3 text-base" id="cv" href="/tech/cv">CV</a></li> <li><a class="py-3 text-base" href="/tech/contact">Contact</a></li> </ul> <script>(function(){const sideBarActiveItemID = undefined;
const activeClass = "bg-base-300";

const activeItemElem = document.getElementById(sideBarActiveItemID);
activeItemElem && activeItemElem.classList.add(activeClass);
})();</script> <div class="block sticky pointer-events-none bottom-10 bg-base-200 justify-center h-12 [mask-image:linear-gradient(transparent,#000000)]"></div> <div class="social-icons px-4 pb-5 pt-1 flex self-center justify-center sticky bottom-0 bg-base-200"> <a href="https://github.com/descent098" target="_blank" class="mx-3" aria-label="Github" title="Github"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"></path> </svg> </a> <a href="https://www.linkedin.com/in/kieran-wood" target="_blank" class="mx-3" aria-label="Linkedin" title="Linkedin"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><circle cx="4.983" cy="5.009" r="2.188"></circle><path d="M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z"></path> </svg> </a> <a href="https://instagram.com/descent098" target="_blank" class="mx-3" aria-label="Instagram" title="Instagram"> <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 -5 24 24" style="fill: currentColor;transform: ;msFilter:;"><path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"></path> </svg> </a> <a href="/rss.xml" target="_blank" class="mx-3" aria-label="RSS Feed" title="RSS Feed"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor;transform: ;msFilter:;"><path d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z"></path><path d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z"></path><circle cx="6" cy="18" r="2"></circle> </svg> </a> </div> </aside> </div> </div> </body></html>